## Table of contents

3 modules:

1. [Describe the core architectural components of Azure](#core-components)
2. [Describe Azure compute and networking services](#compute-and-networking-services)
3. [Describe Azure storage services](#azure-storage-services)
4. [Describe Azure identity, access, and security](#identity-access-security)

## Describe the core architectural components of Azure <a name="core-components"></a>

*Objectives*:

 - Describe Azure regions, region pairs, and sovereign regions.
 - Describe Availability Zones.
 - Describe Azure datacenters.
 - Describe Azure resources and Resource Groups.
 - Describe subscriptions.
 - Describe management groups.
 - Describe the hierarchy of resource groups, subscriptions, and management groups.

**CONCEPTS AND KEYWORDS:** *Core architectural components: 1. Physical Infrastructure (Azure Global Infrastructure, Datacenters, Geography, Availability Zones, Regions, Region Pairs, Sovereign Regions) 2. Management Infrastructure (Azure resources, Resource Groups, Azure Resource Manager, Declarative Syntax, ARM templates, Bicep files, Subscriptions, Accounts, Management Groups), Azure Arc, ways to interact with Azure environment ...*

**Physical infrastructure**:

Physical infrastructure starts with datacenters. Datacenters are grouped into regions. **Region** is a geographical area on the plate that contains at least one datacenter that are nearby and networked together with a low-latency network (2ms round trip latency envelop). We are using public cloud so we are using public regions but there are **sovereign regions** e.g.: AzureUSGovernment, China East. With these clouds data sovereignity or regulatory requirements can be met. Region pairing is the relationship between two Azure regions within the same geographic area to provide geographically redundant solutions. Most Azure regions are paired with another region within the same geography and same regulatory boundaries (such as US, Europe, or Asia) at least 300 miles away => **Region Pairs**. Some services have built in replication to another regions and regions are actually paired, e.g.: Azure Storage if Geo-redundant data is picked is being replicated to paired region. 

**Availability zones** are logically and physically separate datacenters within an Azure region. Each availability zone is made up of one or more datacenters equipped with independent power, cooling, and networking. An availability zone is set up to be an isolation boundary. If one zone goes down, the other continues working. Availability zones are connected through high-speed, private fiber-optic networks. Not all Azure Regions currently support availability zones. The point of availability zone is that we will get resiliency in terms of separate phsyical location/building with independent power, cooling, network. Availability zones are primarily for VMs, managed disks, load balancers and databases.

**Management infrastructure**:

Hierarchy is: Tenant -> Subscription -> Resource Group -> Resource (e.g. a VM). The **Azure AD tenant (Microsoft Entra)** provides a single place to manage users, groups and their permissions for the applications published in the Azure AD.  A tenant is an Azure Active Directory that contains users and is the basis for security. A tenant is free. Accounts that we have for Azure must live somewhere. They are living in Azure AD tenants. In tenant there are users, groups etc. Every subscription trusts one and only one Azure AD Tenant. **Azure Subscription** is base unit of an agreement between a customer and Microsoft and it is needed to use and run Azure services. Services are either license based (e.g. Azure AD P1 or M365 E5) or usage based (SQL Server, VM, or storage). License based are attached to the tenant, usage based are attached to a subscription, which is a billing vehicle. This can be an Enterprise Agreement (billed by Microsoft), Cloud Solution Provider (billed by a partner), or Pay as You Go (billed by Microsoft on a credit card). You can have any number of subscriptions on a tenant. A **resource** is the basic building block of Azure. It is a manageable item. Anything you create, provision, deploy, etc. is a resource. Virtual Machines (VMs), virtual networks, databases, cognitive services, etc. are all considered resources within Azure. All resources live in resource groups. **Resource Groups** are simply groupings of resources. When resource is created you are required to place it into resource group. Single resource can be in only one resource group at a time. Resource group can't be nested. Resources are gathered into resource groups, and resource groups are gathered into subscriptions. If you have many subscriptions, you might need a way to efficiently manage access, policies, and compliance for those subscriptions. **Azure management groups** provide a level of scope above subscriptions. Ff we have multiple subscriptions, for example 4,5 subscriptions then management groups are useful. At management group we can apply RBAC, budget, policy. They are inherited down in hierarchy. Point of management groups is to help manage a group of subscriptions. Usage: create a hierarchy that applies a policy, provide user access to multiple subscriptions etc. Facts: 10.000 management groups is maximum in a single directory, management group tree can support up to six levels of depth.

## Describe Azure compute and networking services <a name="compute-and-networking-services"></a>

*Objectives*: 

- Compare compute types, including container instances, virtual machines, and functions.
- Describe virtual machine options, including virtual machines (VMs), virtual machine scale sets, virtual machine availability sets, and Azure Virtual Desktop.
- Describe resources required for virtual machines.
- Describe application hosting options, including Azure Web Apps, containers, and virtual machines.
- Describe virtual networking, including the purpose of Azure Virtual Networks, Azure virtual subnets, peering, Azure DNS, VPN Gateway, and ExpressRoute.
- Define public and private endpoints.

**CONCEPTS AND KEYWORDS:** *Virtual machines, Virtual machine scale sets, Virtual machine availablity sets, Azure Virtual Desktop, containers, Azure containers, VMs vs containers, Azure container apps, Azure Kubernetes Service(AKS), Azure Functions, Azure App Service, Azure virtual networks, Routing and Filtering Network Traffic, Configure Network Access - network rules,  Azure VPN, VPN Gateways, High-availability VPN scenarios, Azure ExpressRoute, Azure DNS.*

An **Azure virtual machine** is an on-demand, scalable computer resource that is available in Azure. With Azure Virtual Machines (VMs), you can create and use VMs in the cloud. VMs provide infrastructure as a service (IaaS) in the form of a virtualized server. Just like a physical computer, you can customize all of the software running on your VM. VMs are ideal if you need: total control over the operating system, the ability to run custom software, use custom hosting configurations. Virtual machine is a resource that needs to be in resource group. There are several resources required for virtual machines: OS - operating system managed disk, one or more optional data disks to separate data from disks, virtual network with subnets: Virtual NIC, as part of NIC optionally there are IP configurations e.g.: Public IP etc. Another type of virtual machine is the **Azure Virtual Desktop**. Azure Virtual Desktop is a desktop and application virtualization service that runs on the cloud. It enables you to use a cloud-hosted version of Windows from any location.

**Virtual machine scale sets** let you create and manage a group of identical, load-balanced VMs. If I need multiple instances but don’t want to manually create everyhting. If I want to scale multiple identical virtual machines. **Virtual machine availability** sets are designed to ensure that VMs stagger updates and have varied power and network connectivity, preventing you from losing all your VMs with a single network or power failure. Availability sets do this by grouping VMs in two ways: update domain and fault domain.

While virtual machines are an excellent way to reduce costs versus the investments that are necessary for physical hardware, they're still limited to a single operating system per virtual machine. If you want to run multiple instances of an application on a single host machine, containers are an excellent choice. Containers are a virtualization environment. Much like running multiple virtual machines on a single physical host, you can run multiple containers on a single physical or virtual host. Unlike virtual machines, you don't manage the operating system for a container. **Azure Container Instances** are fastest and simplest way to run container in Azure. You can get your own VM, install container runtime etc. but there is Azure Container Instances that is doing all of that for us. **Azure Kubernetes Service (AKS)** is a container orchestration service. An orchestration service manages the lifecycle of containers. When you're deploying a fleet of containers, AKS can make fleet management simpler and more efficient. Management is fully managed. What we see is container hosts, nodes in our subscription, that is where containers are running. It creates actually a VM Scale Set. I can focus on deployment yaml files.

**Serverless** - we are not paying for unit VM but just for unit of work that is being done. We have functions and we have logic apps. Functions can be executed in App Service Plan. These are event driven. There are different triggers. Functions scale automatically based on demand, so they may be a good choice when demand is variable.**Azure Functions** is an event-driven, serverless compute option that doesn’t require maintaining virtual machines or containers. Azure Functions runs your code when it's triggered and automatically deallocates resources when the function is finished. In this model, you're only charged for the CPU time used while your function runs. Functions can be either stateless or stateful. When they're stateless (the default), they behave as if they're restarted every time they respond to an event. When they're stateful (called Durable Functions), a context is passed through the function to track prior activity.

If you need to host your application on Azure, you might initially turn to a virtual machine (VM) or containers. There are other hosting options that you can use with Azure, including **Azure App Service**. App Service enables you to build and host web apps, background jobs, mobile back-ends, and RESTful APIs in the programming language of your choice without managing infrastructure. It offers automatic scaling and high availability. What I pay for is the SKU. 

Networking in Azure is related to boundaries, isolation and segmentation, Internet communication, route network traffic, filter network traffic. **Azure virtual networks** and virtual subnets enable Azure resources, such as VMs, web apps, and databases, to communicate with each other, with users on the internet, and with your on-premises client computers. Azure virtual networking supports both public (can be accessed from anywhere in the world) and private endpoints (exist within a virtual network and have private IP address from address space of that virtual network) to enable communication between external or internal resources with other internal resources. We can have multiple subnets inside of virtual network. 

To communicate with on-premises resources there are three mechanisms: 1. Point-to-site virtual private network 2. Site to site virtual private network 3. Azure ExpressRoute - dedicated private connectivity to Azure that doesn't travel over the internet.

Azure virtual networks enable you to filter traffic between subnets: 1. Network security groups are Azure resources that can contain multiple inbound and outbound security rules. 2. Network virtual appliances are specialized VMs that can be compared to a hardened network appliance. 

A **virtual private network (VPN)** uses an encrypted tunnel within another network. VPNs are typically deployed to connect two or more trusted private networks to one another over an untrusted network (typically the public internet). A VPN gateway is a type of virtual network gateway. **Azure VPN Gateway** instances are deployed in a dedicated subnet of the virtual network. When setting up a VPN gateway, you must specify the type of VPN - either policy-based or route-based. The primary distinction between these two types is how they determine which traffic needs encryption. Policy based is static and we want to used route-based almost always.

**Azure ExpressRoute** lets you extend your on-premises networks into the Microsoft cloud over a private connection, with the help of a connectivity provider. This connection is called an ExpressRoute Circuit. With ExpressRoute, you can establish connections to Microsoft cloud services, such as Microsoft Azure and Microsoft 365. This allows you to connect offices, datacenters, or other facilities to the Microsoft cloud. Each location would have its own ExpressRoute circuit. ExpressRoute connections don't go over the public Internet. This allows ExpressRoute connections to offer more reliability, faster speeds, consistent latencies, and higher security than typical connections over the Internet.

**Azure DNS** is a hosting service for DNS domains that provides name resolution by using Microsoft Azure infrastructure. Benefits: reliablity and performance, security, ease of use, alias records.

## Describe Azure storage services <a name="azure-storage-services"></a>

*Objectives*: 

- Compare Azure storage services
- Describe storage tiers
- Describe redundancy options
- Describe storage account options and storage types
- Identify options for moving files, including AzCopy, Azure Storage Explorer, and Azure File Sync
- Describe migration options, including Azure Migrate and Azure Data Box

**CONCEPTS AND KEYWORDS:** *Azure Storage, Azure Storage account, Storage Azure Endpoint, Azure Storage Redundancy(in primary region, in secondary region),Azure Blob, Blob access tiers, Azure File Storage, Azure Queue Storage, Azure Disk Storage, Azure Table Storage, Azure Data Migration Options: Azure Migrate, Azure Data Box, Azure File Movement Options: AzCopy, Azure Storage Explorer, Azure File Sync*

## Describe Azure identity, access, and security <a name="identity-access-security"></a>

*Objectives*: 

- Describe directory services in Azure, including Microsoft Entra ID and Microsoft Entra Domain Services
- Describe authentication methods in Azure, including single sign-on (SSO), multifactor authentication (MFA), and passwordless
- Describe external identities and guest access in Azure
- Describe Microsoft Entra Conditional Access
- Describe Azure Role Based Access Control (RBAC)
- Describe the concept of Zero Trust
- Describe the purpose of the defense in depth model
- Describe the purpose of Microsoft Defender for Cloud

**CONCEPTS AND KEYWORDS:** *Microsoft Entra ID(previous Azure Active Directory), Microsoft Entra Connect, What does Microsoft Entra ID do, Microsoft Entra Domain Services, Azure authentication methods (SSO, MFA, Paswordless authentication), Azure external identities, Microsoft Entra External ID, Azure Conditional Access, Azure role-based access control, Zero Trust model, Defense-in-depth, Microsoft Defender for Cloud*


